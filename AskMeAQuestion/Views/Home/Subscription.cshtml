@model AskMeAQuestion.Services.ViewModel.SubscriptionViewModel

@{
    ViewData["Title"] = "Inscription";
}

<div id="notification">
</div> 
<div id="presentationForm">
    <div class="text-center">        
        <h1 class="display-4">&lsaquo;AskMeAQuestion&rsaquo;</h1>
        <img src="~/lib/Images/logo.png" id="logoConnectionPage"/>
    </div>    
    <div class="text-center">
        <form asp-action="Subscription" asp-controller="Home" method="post">
            <div class="form-group">
                <input  class="form-control" asp-for="Name" placeholder="Nom d'utilisateur *">
                <span asp-validation-for="Name" class="text-danger"></span>
            </div>
            <div class="form-group">
                <input  class="form-control" asp-for="Login" placeholder="Identifiant">
                <span asp-validation-for="Login" class="text-danger"></span>
            </div>
            <div class="form-group">
                <input class="form-control" asp-for="Mail" placeholder="Adresse Mail">
                <span asp-validation-for="Mail" class="text-danger"></span>
            </div>
            <div class="form-group">
                <input class="form-control" asp-for="Password" placeholder="Mot de passe">
                <span asp-validation-for="Password" class="text-danger"></span>
            </div>
            <div class="form-group">
                <input class="form-control" asp-for="ConfirmPassword" placeholder="Confirmation du mot de passe">
                <span asp-validation-for="ConfirmPassword" class="text-danger"></span>
            </div>
            <p id="paragraphStyle">* Facultatif mais un nom sera attribué automatiquement au hasard si non renseigné</p>
            <hr id="hrStyle"/>
            <button type="submit" class="btn btn-primary" id="colorButton">S'inscrire</button>
        </form>
    </div>
    <div class="text-center" id="linkRelativePosition">
        <p><a href="/Home/Login" id="linkColor">Vous avez déjà un compte ? Identifiez-vous ici.</a></p>
    </div>   
</div>

@section Scripts{
    @{await Html.RenderPartialAsync("_ValidationScriptsPartial");}

    @if(@Model.MessageToUser == "ErrorSubscription")
    {        
        <script type="text/javascript">
            document.getElementById('notification').innerHTML = "<div><img class=\"logoFlag\" src=\"/lib/Images/noContribution.png\" /><span id=\"informationMessage\">Inscription impossible pour ce mail ou cet identifiant</span></div><img src=\"/lib/Images/close.ico\" class=\"closePicture\" onclick=\"closeNotification()\"/>";
            function closeNotification()
            {
                document.getElementById('notification').innerHTML = "";
                window.location.href = "Subscription";
            }   
        </script>
    }
}